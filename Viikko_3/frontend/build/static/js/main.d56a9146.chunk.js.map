{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","react_default","a","createElement","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","_ref","showLimited","handleShowLimited","Person","person","removePerson","name","number","onClick","id","Persons","personsToShow","map","components_Person","key","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowLimited","_useState9","_useState10","setMessage","useEffect","personService","initialPersons","filter","toLowerCase","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","window","alert","changedPerson","objectSpread","returnedPerson","catch","error","setTimeout","p","console","log","JSON","stringify","components_Persons","removable","confirm","err","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d56a9146.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => (\n    <form onSubmit={props.addPerson}>\n      <div>nimi: \n      <input \n        value={props.newName} \n        onChange={props.handleNameChange}\n      />\n      </div>\n      <div>numero: \n      <input \n        value={props.newNumber} \n        onChange={props.handleNumberChange}\n      />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n\n  export default PersonForm","import React from 'react'\n\nconst Filter = ({showLimited, handleShowLimited}) =>(\n    <form>\n      <div>rajaa näytettäviä: \n        <input \n          value={showLimited} \n          onChange={handleShowLimited}\n        />\n      </div>\n    </form>\n)\n\nexport default Filter","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <div>\n      {person.name} {person.number}<br/> \n      <button onClick={()=>removePerson(person.id)}>poista</button>\n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) =>(\n  props.personsToShow.map(person =>\n    <Person\n      key={person.id}\n      person={person}\n      removePerson={props.removePerson}\n    />\n  )\n)\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}","import React from 'react'\n\nconst Notification = ({ message }) => {\n\n    if (message === null) {\n      return null\n    }\n\n    else if (message.includes(\"poistettu\")) {\n      return (\n        <div className=\"error\">\n          {message}\n        </div>\n      )\n    }\n     \n    return (\n      <div className=\"note\">\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showLimited, setShowLimited ] = useState('')\n  const [ message, setMessage ] = useState('')\n\n  useEffect(() => {\n    personService\n        .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n  \n\n  const personsToShow = \n      persons.filter(person => person.name.toLowerCase().includes(showLimited.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if(persons.find(person => person.name === newName)){\n        const person = persons.find(person => person.name === newName)\n        window.alert(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`);\n        const changedPerson = {...person, number: newNumber}\n\n        personService\n          .update(person.id, changedPerson)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n            })\n                .catch(error => {\n                setMessage(\n                  `Henkilö '${person.name}' on jo poistettu`\n                )\n                setTimeout(() => {\n                  setMessage(null)\n                }, 5000)\n                setPersons(persons.filter(p => p.id !== person.id))\n                })\n\n                setMessage(\n                  `Henkilön '${person.name}' numero päivitetty`\n                )\n                setTimeout(() => {\n                  setMessage(null)\n                }, 5000)\n            \n                setNewName('')\n                setNewNumber('')\n                return;\n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(\n          `Lisättiin '${returnedPerson.name}'`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })  \n      .catch(error => {\n        console.log(error.response.data)\n        setMessage(JSON.stringify(error.response.data.error))\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n\n  const removePerson = id => {\n    const removable = persons.find(person => person.id === id)\n    window.confirm(`Poistetaanko ${removable.name}`);\n    personService\n      .remove(id)\n      .then(response => {\n        setPersons(persons.filter(p => p.id !== id))\n        setMessage(\n          `Poistettiin '${removable.name}'`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleShowLimited = (event) => {\n    setShowLimited(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n\n      <Notification message={message} />\n\n      <Filter showLimited={showLimited} handleShowLimited={handleShowLimited}/>\n      <h2>Lisää uusi</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n      newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numerot</h2>\n      <Persons personsToShow={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n    <App  />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}